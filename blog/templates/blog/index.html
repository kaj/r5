{% extends "blog/base.html" %}
{% load cache i18n blogtags %}

{% block title %}Rasmus.krats.se{%if head%} - {{head}}{%endif%}{% endblock %}

{% block extrahead %}
    {# <meta name="Description" content="TODO" /> #}
    <link rel="alternate" type="application/atom+xml"
          href="/atom-{{lang}}.xml">
    {% if not head %}
        <link rel="openid.server"
              href="http://openid.sys.kth.se/_/kthcasopenid.php/kaj">
        <link rel="openid.delegate"
              href="http://openid.sys.kth.se/_/kthcasopenid.php/kaj">
    {% endif %}
{% endblock %}

{% block extraheader %}
  <p id="lingos">{% for l in altlingos %}
    <a rel="alternate" hreflang="{{l}}" lang="{{l}}"
       href="{% url index year=year lang=l %}">
      {% language l %}{% trans "På svenska" context "target language" %}{% endlanguage %}</a>{% if not forloop.last %}, {% endif %}
  {% endfor %}</p>
{% endblock %}

{% block main %}
    {% if head %}
        <h1>{{head}}</h1>
    {% endif %}

    {% for update in updates %}
        {% updatesummary update %}
    {% endfor %}

    <p>Övriga inlägg från
      {% for y in years %}
      <a href="{% url index year=y, lang=lang%}">{{y}}</a>{% if not forloop.last %}, {% endif %}{% endfor %}.</p>
{% endblock %}

{% block lastskiplinks %}
  <li><a href="#tagcloud">{% trans "taggmoln" %}</a></li>
  <li><a href="#lastcomments">{% trans "senaste kommentarerna" %}</a></li>
{% endblock %}

{% block sideblockbottom %}
  <div class="sideblock" id="tagcloud">
    <h2>{% trans "Taggmoln" %}</h2>
    {% cache 7200 tagcloud %}
      {% tagcloud %}
    {% endcache %}
  </div>
  
  {% if not head %}
  <div class="sideblock lastcomments" id="lastcomments">
    {% cache 900 lastcomments LANGUAGE_CODE %}
      <h2>{% trans "Senaste kommentarerna" %}</h2>
      {% latestcomments %}
    {% endcache %}
  </div>
  {% endif %}
{% endblock %}
